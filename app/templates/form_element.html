{%- if element.isMultiChoice -%}
	<div>
	<label>{{ element.displayName }}</label>
	</div>
	<!--NON TOGLIERE class="browser-default" altrimenti succedono cose brutte
	e le select smettono di fare il loro dovere! ho bestemmiato parecchio-->
	<select id="{{ element.name }}" class="browser-default" name={{ class_name }}.{{ element.name }} autocomplete="off">
		<option value="" disabled selected>{{ element.displayName }}</option>
		{%- for pk, displayName in element.options.items() -%}
			
			<!--per le lezioni online che non si svolgono in un'aula
			se si seleziona questa opzione la chiave esterna dell'idaula
			sarÃ  null di default, vedi views.py: defaultValue = None-->
			{%- if element.displayName == "aula" -%}
				<!--non togliere l'id, serve per disabilitare l'invio dei
				dati quando viene selezionata questa opzione-->
				<option id="aulavirtuale"  value="virtual">aula virtuale</option>
			{%- endif -%}

			<!--nel menu a tendina quando viene inserita una nuova lezione
			vengono mostrate solo le opzioni relative ai corsi del prof
			che sta aggiungendo le lezioni-->
			{%- if element.displayName == "corso" -%}
				{%- for lez_corsi in i_tuoi_corsi_lez -%}
					{%- if lez_corsi.titolo == displayName -%}
						<option value="{{ pk }}" {% if corso and corso[element.name] == pk -%}selected="selected"{%- endif -%}>{{ displayName }}</option>
					{%- endif -%}

				{%- endfor -%}
			{%- else -%}
				<option value="{{ pk }}" {% if corso and corso[element.name] == pk -%}selected="selected"{%- endif -%}>{{ displayName }}</option>
			{%- endif -%}

		{%- endfor -%}
	</select>
	

{%- else -%}
	<input 
		id={{ element.name }} 
		name="{{ class_name }}.{{ element.name }}"
		type=
		{%- if element.secret -%}			"password"
		{%- elif element.isDate -%}			"date"
		{%- elif element.isDatetime -%}		"datetime-local"
		{%- elif element.isTimedelta -%}	"time"
		{%- else -%}						"text"
		{%- endif %} 
		class="validate"
		{% if not element.optional and not corso %} required=True {% endif %}
		{% if corso -%}
			{%- if element.isDatetime -%}
				{%- set date = corso[element.name] -%}
				value="{{ date.strftime('%Y-%m-%dT%H:%M') }}"
			{%- elif element.isTimedelta -%}
				{%- set date = corso[element.name] -%}
				value="{{ (date|string())[0:5] }}"
			{%- else -%}
				value="{{ corso[element.name] }}"
			{%- endif -%}
		{%- endif -%}
	>
	<label {%- if element.isDatetime %} class="active" {%- endif %} for={{ element.name }}>{{ element.displayName }}</label>
	{%- if input_error -%}
		{%- if element.name == input_error.elementName -%}
		<span class="helper-text" data-error="wrong" data-success="right">{{ input_error.message }}</span>
		{%- endif -%}
	{%- endif -%}
{%- endif -%}